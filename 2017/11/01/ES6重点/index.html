<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Yan Ni">
  <meta name="description" content="å‰ç«¯BLOG">
  <link rel="alternative" href="/atom.xml" title="In My World" type="application/atom+xml">
  <link rel="icon" href="/favicon.png">
  <title>ES6æ‰€æœ‰ç‰¹ç‚¹åº”ç”¨ -- ç¬¬ä¸€å¼¹ - In My World</title>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css">
  <!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]-->
  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/fancybox/jquery.fancybox.min.js"></script>
</head>

<body style="opacity:0;">
  <header class="head">
    <h1 class="head-title u-fl">
      <a href="/">In My World</a>
    </h1>
    <nav class="head-nav u-fr">
      <ul class="head-nav__list">
        <li class="head-nav__item">
          <a class="head-nav__link" href="/tags/ALL">ç›®å½•</a>
        </li>
      </ul>
    </nav>
  </header>
  <main class="main">
    <article class="post">
      <header class="post__head">
        <time class="post__time" datetime="2017-11-01T03:19:09.000Z">November 1, 2017</time>
        <h1 class="post__title">
          <a href="/2017/11/01/ES6é‡ç‚¹/">ES6æ‰€æœ‰ç‰¹ç‚¹åº”ç”¨ -- ç¬¬ä¸€å¼¹</a>
        </h1>
        <div class="post__main echo">
          <p>psï¼šè¿™æ˜¯æœ¬å®å®æœç½—Nå¤šä¸ªäººçš„åšå®¢ã€èµ„æ–™æœ€åçš„å¤§æ±‡æ€»ï¼Œå¦‚æœ‰é›·åŒä¹Ÿæ˜¯æ­£å¸¸ç°è±¡
            <br>ppsï¼šå„ä½å¤§å¤§ä»¬è¯·ä¸è¦åœ¨æ„è¿™äº›ç»†èŠ‚å–½ï¼Œå®½å®¹ç‚¹å™»ã€‚
            <br>pppsï¼šç”±äºæœ¬ä»™å¥³å®åœ¨æ˜¯å¤ªæ‡’äº†ï¼Œsoï¼Œå˜¿å˜¿!å°±åªæŒ‘é‡ç‚¹è®°å½•å–½ï¼Œplease ä¸è¦å–·æˆ‘ã€‚ã€‚ã€‚</p>
          <p>ä¸€ã€Let</p>
          <p>{
            <br> var globalVar = â€œfrom demo1â€
            <br>}
            <br>{
            <br> let globalLet = â€œfrom demo2â€
            <br>}
            <br>console.log(globalVar)
            <br>console.log(globalLet)</p>
          <p>globalVar -&gt; from demo1
            <br>globalLet -&gt; ReferenceError: globalLet is not defined</p>
          <p>å®ƒä¸ä¼šå‘windowåˆ†é…ä»»ä½•å†…å®¹ï¼š
            <br>let me = â€œgoâ€
            <br>var i = â€œableâ€</p>
          <p>console.log(window.me)
            <br>console.log(window.i)</p>
          <p>window.me -&gt; undefined
            <br>window.i -&gt; able</p>
          <p>ä¸èƒ½ä½¿ç”¨leté‡æ–°å£°æ˜ä¸€ä¸ªå˜é‡ï¼š
            <br>let me = â€œfooâ€;
            <br>let me = â€œbarâ€;
            <br>console.log(me);
            <br>SyntaxError: Identifier â€˜meâ€™ has already been declared</p>
          <p>############################################################################################</p>
          <p>äºŒã€Const</p>
          <p>ä¸€ä¸ªä¸èƒ½è¢«æ›´æ”¹çš„å€¼
            <br>const a = â€œbâ€
            <br>a = â€œaâ€
            <br>TypeError: Assignment to constant variable.</p>
          <p>åº”è¯¥æ³¨æ„ï¼Œconst å¯¹è±¡ä»ç„¶å¯ä»¥è¢«æ”¹å˜çš„ã€‚
            <br>const a = { a: â€œaâ€ }
            <br>a.a = â€œbâ€
            <br>console.log(a)
            <br>a -&gt; {â€œaâ€:â€bâ€}</p>
          <p>############################################################################################</p>
          <p>ä¸‰ã€Classç±»</p>
          <p>class ColorPoint extends Point {
            <br>}
            <br>// ç­‰åŒäº
            <br>class ColorPoint extends Point {
            <br> constructor(â€¦args) {
            <br> super(â€¦args);
            <br> }
            <br>}</p>
          <p>ä¸¾ä¸ªğŸŒ° å§
            <br>class Point {
            <br> constructor(x, y) {
            <br> this.x = x;
            <br> this.y = y;
            <br> }
            <br>}</p>
          <p>class ColorPoint extends Point {
            <br> constructor(x, y, color) {
            <br> this.color = color; // ReferenceError</p>
          <pre><code>super(x, y);
this.color = color; // æ­£ç¡®
</code></pre>
          <p> }
            <br>}
            <br>let cp = new ColorPoint(25, 8, â€˜greenâ€™);
            <br>//ä¸Šé¢ä»£ç ä¸­ï¼Œå®ä¾‹å¯¹è±¡cpåŒæ—¶æ˜¯ColorPointå’ŒPointä¸¤ä¸ªç±»çš„å®ä¾‹
            <br>cp instanceof ColorPoint // true
            <br>cp instanceof Point // true</p>
          <p>å†ä¸¾ä¸ªğŸŒ°
            <br>class A {
            <br> static hello() {
            <br> console.log(â€˜hello worldâ€™);
            <br> }
            <br>}
            <br>class B extends A {
            <br>}
            <br>B.hello() // hello world
            <br>//hello()æ˜¯Aç±»çš„é™æ€æ–¹æ³•ï¼ŒBç»§æ‰¿Aï¼Œä¹Ÿç»§æ‰¿äº†Açš„é™æ€æ–¹æ³•</p>
          <p>è¿˜æƒ³å†æ¥ä¸ªğŸŒ°
            <br>class A {
            <br> constructor() {
            <br> console.log(new.target.name);
            <br> //new.targetæŒ‡å‘å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°
            <br> }
            <br>}
            <br>class B extends A {
            <br> constructor() {
            <br> super();
            <br> }
            <br>}
            <br>new A() // A
            <br>new B() // B</p>
          <p>å°å¯çˆ±ä»¬çœ‹è¿‡æ¥å–ï¼Œçœ‹è¿‡æ¥ğŸ‘€</p>
          <p>class Student {
            <br> // æ„é€ å‡½æ•°
            <br> // åªèƒ½å£°æ˜ä¸€ä¸ªï¼Œå¦åˆ™ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯(Safari 10.0)ï¼š
            <br> // SyntaxError: Cannot declare multiple constructors in a single class.
            <br> constructor(name, age) {
            <br> // ç±»æˆå‘˜å˜é‡ä¸ç”¨äº‹å…ˆå£°æ˜
            <br> this.name = name;
            <br> this.age = age;</p>
          <pre><code>    if (age === undefined) {
        log(&apos;æ²¡æœ‰ä¼ ageå‚æ•°&apos;);
    }
}

// æ–¹æ³•
sayHello(message) {
    // thisä¸èƒ½çœç•¥
    log(&quot;Hello &quot; + this.name + &quot;: &quot; + message);
}

sayHelloEx(message) {
    log(&quot;Hello &quot; + this.name + &apos;[&apos; + this.age + &apos;]: &apos; + message);
}
</code></pre>
          <p>}</p>
          <p>class SkinnedMesh extends THREES.Mesh {
            <br> constructor(geometry,materials){
            <br> super(geometry,materials);// è°ƒç”¨çˆ¶ç±»çš„constructor
            <br> //å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™
            <br> //è¿™æ˜¯å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„thiså¯¹è±¡
            <br> this.idMatrix = SkinnedMesh.defaultMatrix();
            <br> this.bones = [];
            <br> this.bonesMatrices = []
            <br> //åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨superä¹‹åï¼Œæ‰å¯ä»¥ä½¿ç”¨thiså…³é”®å­—
            <br> }
            <br> //constructoræ–¹æ³•ä¹‹ä¸­ï¼Œéƒ½å‡ºç°äº†superå…³é”®å­—ï¼Œå®ƒåœ¨è¿™é‡Œè¡¨ç¤ºçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨æ¥æ–°å»ºçˆ¶ç±»çš„thiså¯¹è±¡ã€‚
            <br> update(camera){
            <br> super.update()
            <br> }
            <br> get boneCount(){
            <br> return this.bones.length
            <br> }
            <br> set MatrixType(matrixType){
            <br> this.idMatrix = SkinnedMesh
            <a href="">matrixType</a>;
            <br> }
            <br> static defaultMatrix(){
            <br> return new THREES.Matrix4();
            <br> }
            <br>}</p>
          <p>############################################################################################</p>
          <p>å››ã€Forâ€¦of</p>
          <p>è¿­ä»£å™¨çš„æ–°ç±»å‹ï¼Œå¯ä»¥æ›¿ä»£for..inã€‚ å®ƒè¿”å›çš„æ˜¯å€¼è€Œä¸æ˜¯keys
            <br>let list = [4, 5, 6];
            <br>console.log(list)
            <br>for (let i of list) {
            <br> console.log(i);
            <br>}
            <br>list -&gt; [4,5,6]
            <br>i -&gt; 4
            <br>i -&gt; 5
            <br>i -&gt; 6</p>
          <p>æ²¡æœ‰å¯¹æ¯”å°±æ²¡æœ‰ä¼¤å®³ï¼Œçœ‹è¿™é‡ŒğŸ‘‡
            <br>for(let i in list){
            <br> console.log(i)
            <br>}
            <br>list -&gt; [4,5,6]
            <br>i -&gt; 0
            <br>i -&gt; 1
            <br>i -&gt; 2</p>
          <p>############################################################################################</p>
          <p>äº”ã€Set</p>
          <p>Set ä¸ºæ•°å­¦å¯¹åº”ï¼Œå…¶ä¸­æ‰€æœ‰é¡¹ç›®éƒ½æ˜¯å”¯ä¸€çš„
            <br>var set = new Set();
            <br>set.add(â€œPotatoâ€).add(â€œTomatoâ€).add(â€œTomatoâ€)
            <br>console.log(set.size)
            <br>console.log(set.has(â€œTomatoâ€))
            <br>for(var item of set) {
            <br> console.log(item)
            <br>}</p>
          <p>set.size -&gt; 2
            <br>set.has(â€œTomatoâ€) -&gt; true
            <br>item -&gt; Potato
            <br>item -&gt; Tomato</p>
          <p>############################################################################################</p>
          <p>å…­ã€Rest</p>
          <p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ rest æ“ä½œç¬¦æ¥å…è®¸æ— é™å‚æ•° rest â€¦
            <br>function demo(part1,â€¦part2){
            <br> return {part1,part2}
            <br>}
            <br>console.log(demo(1,2,3,4,6))
            <br>demo(1,2,3,4,5,6) -&gt; {â€œpart1â€:1,â€part2â€:[2,3,4,5,6]}</p>
          <p>############################################################################################</p>
          <p>ä¸ƒã€Map</p>
          <p>var map = new Map();
            <br>map.set(â€œPotatoâ€,12)
            <br>map.set(â€œTomatoâ€,34)
            <br>console.log(map.get(â€œPotatoâ€))
            <br>for(let item of map){
            <br> console.log(item)
            <br>}</p>
          <p>map.get(â€œPotatoâ€) -&gt; 12
            <br>item -&gt; [â€œPotatoâ€,12]
            <br>item -&gt; [â€œTomatoâ€,34]</p>
          <p>for(let item in map){
            <br> console.log(item)
            <br>}</p>
          <p>//undefined</p>
          <p>å¯ä»¥ä½¿ç”¨é™¤å­—ç¬¦ä¸²ä¹‹å¤–çš„å…¶ä»–ç±»å‹ã€‚
            <br>var map = new Map();
            <br>var key = {a: â€œaâ€}
            <br>map.set(key, 12);</p>
          <p>console.log(map.get(key))
            <br>console.log(map.get({a: â€œaâ€}))</p>
          <p>map.get(key) -&gt; 12
            <br>map.get({a: â€œaâ€}) -&gt; undefined</p>
          <p>############################################################################################</p>
          <p>å…«ã€WeakMap</p>
          <p>ä½¿ç”¨é”®çš„å¯¹è±¡ï¼Œå¹¶ä¸”åªä¿ç•™å¯¹é”®çš„å¼±å¼•ç”¨ã€‚
            <br>var wm = new WeakMap();</p>
          <p>var o1 = {}
            <br>var o2 = {}
            <br>var o3 = {}</p>
          <p>wm.set(o1,1)
            <br>wm.set(o2,2)
            <br>wm.set(o3,{a:â€aâ€})
            <br>wm.set({},4)</p>
          <p>console.log(wm.get(o2))
            <br>console.log(wm.has({}))</p>
          <p>delete o2;
            <br>console.log(wm.get(o3))</p>
          <p>for(let item in wm) {
            <br> console.log(item)
            <br>}
            <br>for(let item of wm) {
            <br> console.log(item)
            <br>}
            <br>æ¥ä¸‹æ¥è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¾“å‡ºçš„ç»“æœå§
            <br>wm.get(o2) -&gt; 2
            <br>wm.has({}) -&gt; false
            <br>wm.get(o3) -&gt; {â€œaâ€:â€aâ€}
            <br>æ²¡æœ‰sizeå±æ€§,æ²¡æœ‰åŠæ³•éå†å®ƒçš„æˆå‘˜
            <br>TypeError: wm[Symbol.iterator] is not a function</p>
          <p>surpriseï¼ï¼ï¼ğŸ‰ æœ‰æ²¡æœ‰å¾ˆæƒŠå–œå– æ˜¯ä¸æ˜¯å’Œæƒ³çš„ä¸ä¸€æ ·æ
            <br>å¼å¼ ç¨³ä½ æˆ‘ä»¬èƒ½èµ¢
            <br>è®©æˆ‘ä»¬è¶çƒ­æ‰“é“ï¼Œæ¥è¿æ¥ä¸‹ä¸€ä¸ªæš´å‡»</p>
          <p>############################################################################################</p>
          <p>ä¹ã€WeakSet</p>
          <p>ä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆ
            <br>WeakSet çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡
            <br>WeakSetå¯¹è±¡å…è®¸æ‚¨åœ¨é›†åˆä¸­å­˜å‚¨å¼±æŒæœ‰çš„å¯¹è±¡,æ²¡æœ‰å¼•ç”¨çš„å¯¹è±¡å°†è¢«åƒåœ¾å›æ”¶</p>
          <p>var item = {a:â€Potatoâ€}
            <br>var set new WeakSet();</p>
          <p>set.add({a:â€Potatoâ€}).add(item).add({a:â€Tomatoâ€}).add({a:â€Tomatoâ€})
            <br>console.log(set.size)
            <br>console.log(set.has({a:â€Tomatoâ€}))
            <br>console.log(set.has(item))</p>
          <p>for(let item of set) {
            <br> console.log(item)
            <br>}
            <br>â€»â€»â€» â¡ WeakSetæ²¡æœ‰sizeå±æ€§,æ²¡æœ‰åŠæ³•éå†å®ƒçš„æˆå‘˜</p>
          <p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹è¾“å‡ºçš„ç»“æœå§ï¼ï¼ï¼ï¼
            <br>set.size -&gt; undefined
            <br>set.has({a:â€Tomatoâ€}) -&gt; false
            <br>set.has(item) -&gt; true
            <br>TypeError: set[Symbol.iterator] is not a function</p>
          <p>å·å¤–å·å¤– ğŸ“¢
            <br>const a = [[1, 2], [3, 4]];
            <br>const ws = new WeakSet(a);
            <br>// WeakSet {[1, 2], [3, 4]}
            <br>æ³¨æ„ï¼Œæ˜¯aæ•°ç»„çš„æˆå‘˜æˆä¸º WeakSet çš„æˆå‘˜ï¼Œè€Œä¸æ˜¯aæ•°ç»„æœ¬èº«ã€‚è¿™æ„å‘³ç€ï¼Œæ•°ç»„çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡</p>
          <p>############################################################################################</p>
          <p>åã€å…³äºThis</p>
          <p>var object = {
            <br> name:â€Nameâ€,
            <br> arrowGetName:() =&gt; this.name,
            <br> regularGetName:function(){ return this.name },
            <br> arrowGetThis:() =&gt; this,
            <br> regularGetThis:function(){ return this }
            <br>}
            <br>console.log(object.arrowGetName())
            <br>console.log((object.arrowGetThis())
            <br>console.log(this)
            <br>console.log(object.regularGetName())
            <br>console.log(object.regularGetThis())</p>
          <p>object.arrowGetName() -&gt;
            <br>object.arrowGetThis() -&gt; [object Window]
            <br>this -&gt; [object Window]
            <br>object.regularGetName() -&gt; Name
            <br>object.regularGetThis() -&gt; {â€œnameâ€:â€Nameâ€}</p>
          <p>å°è‘µèŠ±å¦ˆå¦ˆè¯¾å ‚å¼€è¯¾äº†ï¼Œå°ä»™å¥³æ„Ÿå†’è€ä¸å¥½ï¼Œå¤šåŠæ˜¯åºŸäº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
            <br>å„ä½é“å‹ä»¬ï¼Œå’±ä»¬ä¸‹ä¸€ç« è§ã€‚ã€‚ã€‚å’³å’³ã€‚ã€‚ã€‚å°ä»™å¥³è¦å»åƒè¯äº†</p>
          <p>æƒ³ç»§ç»­çš„å®å® æˆ³ä¸€æˆ³ å»ä¸‹ä¸€å¼¹ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</p>
          <p>
            <a href="http://icey-monopolize.com/2017/11/02/ES6%E7%AC%AC%E4%BA%8C%E5%BC%B9/" target="_blank"
                                                                                            rel="external">http://icey-monopolize.com/2017/11/02/ES6%E7%AC%AC%E4%BA%8C%E5%BC%B9/</a>
          </p>
          <p>ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†ğŸ†</p>
        </div>
      </header>
      <footer class="post__foot u-cf">
        <ul class="post__tag u-fl">
          <li class="post__tag__item">
            <a class="post__tag__link" href="/tags/ALL/">ALL</a>
          </li>
          <li class="post__tag__item">
            <a class="post__tag__link" href="/tags/ES6/">ES6</a>
          </li>
        </ul>
      </footer>
    </article>
    <section class="reward">
      <a class="btn-reward" href="#">æ‰“èµ</a>
      <div class="reward-wrapper clearfix">
        <img src="/img/wei.jpg" title="å¾®ä¿¡">
        <img src="/img/zhi.jpg" title="æ”¯ä»˜å®">
      </div>
    </section>
  </main>
  <footer class="foot">
    <div class="foot-copy">&copy; 2016-2017 Yan Ni</div>
  </footer>
  <script src="/js/scroller.js"></script>
  <script src="/js/main.js"></script>
</body>

</html>
